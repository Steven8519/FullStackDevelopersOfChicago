{"version":3,"sources":["../../../developers-app/controllers/UserController.js"],"names":["User","require","Promise","bcrypt","module","exports","get","params","resolve","reject","find","error","users","getById","id","findById","user","post","password","hashSync","create","put","findByIdAndUpdate","new"],"mappings":";;AAAA;;;AAGA,IAAMA,OAAOC,QAAQ,gBAAR,CAAb;AACA,IAAMC,UAAUD,QAAQ,UAAR,CAAhB;AACA,IAAME,SAASF,QAAQ,UAAR,CAAf;;AAEAG,OAAOC,OAAP,GAAiB;AACbC,SAAK,aAAUC,MAAV,EAAkB;AACnB,eAAO,IAAIL,OAAJ,CAAY,UAAUM,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C;;AACAT,iBAAKU,IAAL,CAAUH,MAAV,EAAkB,UAAUI,KAAV,EAAiBC,KAAjB,EAAwB;AACtC,oBAAID,KAAJ,EAAW;AACPF,2BAAOE,KAAP;AACH,iBAFD,MAEO;AACHH,4BAAQI,KAAR;AACH;AACJ,aAND;AAOH,SATM,CAAP;AAUH,KAZY;;AAcbC,aAAS,iBAAUC,EAAV,EAAc;AACf,eAAO,IAAIZ,OAAJ,CAAY,UAASM,OAAT,EAAkBC,MAAlB,EAA0B;AAC7CT,iBAAKe,QAAL,CAAcD,EAAd,EAAkB,UAAUH,KAAV,EAAiBK,IAAjB,EAAuB;AACrC,oBAAIL,KAAJ,EAAW;AACPF,2BAAOE,KAAP;AACH,iBAFD,MAEO;AACHH,4BAAQQ,IAAR;AACH;AACJ,aAND;AAQH,SATU,CAAP;AAUP,KAzBY;AA0BbC,UAAM,cAAUV,MAAV,EAAkB;AACpB,eAAO,IAAIL,OAAJ,CAAY,UAAUM,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,gBAAMS,WAAWX,OAAOW,QAAxB;AACAX,mBAAO,UAAP,IAAqBJ,OAAOgB,QAAP,CAAgBD,QAAhB,EAA0B,EAA1B,CAArB;AACAlB,iBAAKoB,MAAL,CAAYb,MAAZ,EAAoB,UAAUI,KAAV,EAAiBK,IAAjB,EAAuB;AACvC,oBAAIL,KAAJ,EAAW;AACPF,2BAAOE,KAAP;AACH,iBAFD,MAEO;AACHH,4BAAQQ,IAAR;AACH;AACJ,aAND;AAOH,SAVM,CAAP;AAWH,KAtCY;;AAwCbK,SAAK,eAAY;AACb,eAAO,IAAInB,OAAJ,CAAY,UAAUM,OAAV,EAAmBC,MAAnB,EAA2B;AAC1CT,iBAAKsB,iBAAL,CAAuBR,EAAvB,EAA2BP,MAA3B,EAAmC,EAACgB,KAAK,IAAN,EAAnC,EAAgD,UAAUZ,KAAV,EAAiBK,IAAjB,EAAuB;AACnE,oBAAGL,KAAH,EAAU;AACNF,2BAAOE,KAAP;AACH,iBAFD,MAEO;AACHH,4BAAQQ,IAAR;AACH;AACJ,aAND;AAOH,SARM,CAAP;AASH;AAlDY,CAAjB","file":"UserController.js","sourcesContent":["/**\n * Created by stevenmcdonald on 3/6/17.\n */\nconst User = require(\"../models/user\");\nconst Promise = require(\"bluebird\");\nconst bcrypt = require(\"bcryptjs\");\n\nmodule.exports = {\n    get: function (params) {\n        return new Promise(function (resolve, reject) {\n            \"use strict\";\n            User.find(params, function (error, users) {\n                if (error) {\n                    reject(error)\n                } else {\n                    resolve(users);\n                }\n            });\n        });\n    },\n\n    getById: function (id) {\n            return new Promise(function(resolve, reject) {\n            User.findById(id, function (error, user) {\n                if (error) {\n                    reject(error);\n                } else {\n                    resolve(user);\n                }\n            });\n\n        });\n    },\n    post: function (params) {\n        return new Promise(function (resolve, reject) {\n            const password = params.password;\n            params[\"password\"] = bcrypt.hashSync(password, 10);\n            User.create(params, function (error, user) {\n                if (error) {\n                    reject(error);\n                } else {\n                    resolve(user);\n                }\n            });\n        });\n    },\n\n    put: function () {\n        return new Promise(function (resolve, reject) {\n            User.findByIdAndUpdate(id, params, {new: true}, function (error, user) {\n                if(error) {\n                    reject(error);\n                } else {\n                    resolve(user);\n                }\n            });\n        });\n    }\n};\n"]}